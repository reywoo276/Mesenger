{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ludmi\\\\IdeaProjects\\\\Mesenger\\\\src\\\\main\\\\resources\\\\static\\\\src\\\\profile\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { Card, Avatar } from \"antd\";\nimport { useRecoilState } from \"recoil\";\nimport { loggedInUser } from \"../atom/globalState\";\nimport { LogoutOutlined } from \"@ant-design/icons\";\nimport { getCurrentUser } from \"../util/ApiUtil\";\nimport \"./Profile.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Meta\n} = Card;\nconst Profile = props => {\n  _s();\n  const [currentUser, setLoggedInUser] = useRecoilState(loggedInUser);\n  useEffect(() => {\n    if (localStorage.getItem(\"accessToken\") === null) {\n      props.history.push(\"/login\");\n    }\n    loadCurrentUser();\n  }, []);\n  const loadCurrentUser = () => {\n    getCurrentUser().then(response => {\n      setLoggedInUser(response);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n  const logout = () => {\n    localStorage.removeItem(\"accessToken\");\n    props.history.push(\"/login\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-container\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: 420,\n        border: \"1px solid #e1e0e0\"\n      },\n      actions: [/*#__PURE__*/_jsxDEV(LogoutOutlined, {\n        onClick: logout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 27\n      }, this)],\n      children: /*#__PURE__*/_jsxDEV(Meta, {\n        avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n          src: currentUser.profilePicture,\n          className: \"user-avatar-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this),\n        title: currentUser.name,\n        description: \"@\" + currentUser.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"+izQsQqYAKpbG7TX0fZwTrbaLWk=\", false, function () {\n  return [useRecoilState];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","Card","Avatar","useRecoilState","loggedInUser","LogoutOutlined","getCurrentUser","jsxDEV","_jsxDEV","Meta","Profile","props","_s","currentUser","setLoggedInUser","localStorage","getItem","history","push","loadCurrentUser","then","response","catch","error","console","log","logout","removeItem","className","children","style","width","border","actions","onClick","fileName","_jsxFileName","lineNumber","columnNumber","avatar","src","profilePicture","title","name","description","username","_c","$RefreshReg$"],"sources":["C:/Users/ludmi/IdeaProjects/Mesenger/src/main/resources/static/src/profile/Profile.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Card, Avatar } from \"antd\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { loggedInUser } from \"../atom/globalState\";\r\nimport { LogoutOutlined } from \"@ant-design/icons\";\r\nimport { getCurrentUser } from \"../util/ApiUtil\";\r\nimport \"./Profile.css\";\r\n\r\nconst { Meta } = Card;\r\n\r\nconst Profile = (props) => {\r\n    const [currentUser, setLoggedInUser] = useRecoilState(loggedInUser);\r\n    useEffect(() => {\r\n        if (localStorage.getItem(\"accessToken\") === null) {\r\n            props.history.push(\"/login\");\r\n        }\r\n        loadCurrentUser();\r\n    }, []);\r\n\r\n    const loadCurrentUser = () => {\r\n        getCurrentUser()\r\n            .then((response) => {\r\n                setLoggedInUser(response);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem(\"accessToken\");\r\n        props.history.push(\"/login\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"profile-container\">\r\n            <Card\r\n                style={{ width: 420, border: \"1px solid #e1e0e0\" }}\r\n                actions={[<LogoutOutlined onClick={logout} />]}\r\n            >\r\n                <Meta\r\n                    avatar={\r\n                        <Avatar\r\n                            src={currentUser.profilePicture}\r\n                            className=\"user-avatar-circle\"\r\n                        />\r\n                    }\r\n                    title={currentUser.name}\r\n                    description={\"@\" + currentUser.username}\r\n                />\r\n            </Card>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,IAAI,EAAEC,MAAM,QAAQ,MAAM;AACnC,SAASC,cAAc,QAAQ,QAAQ;AACvC,SAASC,YAAY,QAAQ,qBAAqB;AAClD,SAASC,cAAc,QAAQ,mBAAmB;AAClD,SAASC,cAAc,QAAQ,iBAAiB;AAChD,OAAO,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvB,MAAM;EAAEC;AAAK,CAAC,GAAGR,IAAI;AAErB,MAAMS,OAAO,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACvB,MAAM,CAACC,WAAW,EAAEC,eAAe,CAAC,GAAGX,cAAc,CAACC,YAAY,CAAC;EACnEJ,SAAS,CAAC,MAAM;IACZ,IAAIe,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,KAAK,IAAI,EAAE;MAC9CL,KAAK,CAACM,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;IAChC;IACAC,eAAe,CAAC,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,eAAe,GAAGA,CAAA,KAAM;IAC1Bb,cAAc,CAAC,CAAC,CACXc,IAAI,CAAEC,QAAQ,IAAK;MAChBP,eAAe,CAACO,QAAQ,CAAC;IAC7B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB,CAAC,CAAC;EACV,CAAC;EAED,MAAMG,MAAM,GAAGA,CAAA,KAAM;IACjBX,YAAY,CAACY,UAAU,CAAC,aAAa,CAAC;IACtChB,KAAK,CAACM,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;EAChC,CAAC;EAED,oBACIV,OAAA;IAAKoB,SAAS,EAAC,mBAAmB;IAAAC,QAAA,eAC9BrB,OAAA,CAACP,IAAI;MACD6B,KAAK,EAAE;QAAEC,KAAK,EAAE,GAAG;QAAEC,MAAM,EAAE;MAAoB,CAAE;MACnDC,OAAO,EAAE,cAACzB,OAAA,CAACH,cAAc;QAAC6B,OAAO,EAAER;MAAO;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,CAAE;MAAAT,QAAA,eAE/CrB,OAAA,CAACC,IAAI;QACD8B,MAAM,eACF/B,OAAA,CAACN,MAAM;UACHsC,GAAG,EAAE3B,WAAW,CAAC4B,cAAe;UAChCb,SAAS,EAAC;QAAoB;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjC,CACJ;QACDI,KAAK,EAAE7B,WAAW,CAAC8B,IAAK;QACxBC,WAAW,EAAE,GAAG,GAAG/B,WAAW,CAACgC;MAAS;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEd,CAAC;AAAC1B,EAAA,CA3CIF,OAAO;EAAA,QAC8BP,cAAc;AAAA;AAAA2C,EAAA,GADnDpC,OAAO;AA6Cb,eAAeA,OAAO;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}